---
function batchItems(arr, chunkSize) {
	const res = [];
	while (arr.length > 0) {
		const chunk = arr.splice(0, chunkSize);
		res.push(chunk);
	}
	return res;
}

const testimonials = [
	{
		name: 'Yash Jayme',
		position: 'CEO at Yash Jayme',
		message: 'Malibog si aling yola. Wala na tayo magagawa don!',
		avatar:
			'https://images.unsplash.com/flagged/photo-1570612861542-284f4c12e75f?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80',
	},
	{
		name: 'Yash Jayme',
		position: 'CEO at Yash Jayme',
		message: 'Malibog si aling yola. Wala na tayo magagawa don!',
		avatar:
			'https://images.unsplash.com/flagged/photo-1570612861542-284f4c12e75f?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80',
	},
	{
		name: 'Yash Jayme',
		position: 'CEO at Yash Jayme',
		message: 'Malibog si aling yola. Wala na tayo magagawa don!',
		avatar:
			'https://images.unsplash.com/flagged/photo-1570612861542-284f4c12e75f?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80',
	},
	{
		name: 'Yash Jayme',
		position: 'CEO at Yash Jayme',
		message: 'Malibog si aling yola. Wala na tayo magagawa don!',
		avatar:
			'https://images.unsplash.com/flagged/photo-1570612861542-284f4c12e75f?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80',
	},
	{
		name: 'Yash Jayme',
		position: 'CEO at Yash Jayme',
		message: 'Malibog si aling yola. Wala na tayo magagawa don!',
		avatar:
			'https://images.unsplash.com/flagged/photo-1570612861542-284f4c12e75f?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80',
	},
	{
		name: 'Yash Jayme',
		position: 'CEO at Yash Jayme',
		message: 'Malibog si aling yola. Wala na tayo magagawa don!',
		avatar:
			'https://images.unsplash.com/flagged/photo-1570612861542-284f4c12e75f?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80',
	},
];
const batches: any[] = batchItems(testimonials, 2);
console.log(batches);
console.log('=========');
---

<section class="bg-slate-100">
	<div
		class="mx-auto w-full lg:px-24 max-w-7x1 md:px-12 items-center px-8 py-24">
		<div class="max-w-2xl mx-auto md:text-center">
			<h2 class="text-black font-extrabold lg:text-5xl text-4xl tracking-light">
				Malibog aling yola!
			</h2>
		</div>
		<ul
			role="list"
			class="grid max-w-2xl grid-cols-1 gap-6 mx-auto mt-16 sm:gap-8 lg:mt-20 lg:max-w-none lg:grid-cols-3">
			{
				batches.map((batch) => {
					return (
						<li>
							<ul role="list" class="flex flex-col gap-y-6 sm:gap-y-8">
								{batch.map((testimonial) => (
									<li>
										<figure class="relative h-full p-6 bg-white rounded-3xl">
											<blockquote class="relative">
												<p class="text-base text-slate-500">
													{testimonial.message}
												</p>
											</blockquote>
											<figcaption class="relative flex items-center justify-between pt-6 mt-6 border-t border-slate-100">
												<div>
													<div class="text-lg font-semibold leading-6 text-black font-display">
														{testimonial.name}
													</div>
													<div class="mt-1 text-sm text-slate-500">
														{testimonial.position}
													</div>
												</div>
												<div class="overflow-hidden rounded-full bg-slate-50">
													<img
														alt=""
														src={testimonial.avatar}
														width="56"
														height="56"
														decoding="async"
														data-nimg="future"
														class="object-cover h-14 w-14"
														loading="lazy"
														style="color: transparent"
													/>
												</div>
											</figcaption>
										</figure>
									</li>
								))}
							</ul>
						</li>
					);
				})
			}
		</ul>
	</div>
</section>
